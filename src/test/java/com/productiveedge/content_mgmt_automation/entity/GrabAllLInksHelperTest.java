package com.productiveedge.content_mgmt_automation.entity;

import com.productiveedge.content_mgmt_automation.flow.impl.helper.GrabAllLinksHelper;
import org.junit.Test;

import static org.junit.Assert.assertEquals;

public class GrabAllLInksHelperTest {

    @Test
    public void extractHtmlHrefs() {
        String html = "<!DOCTYPE html><!--[if IE 8]><html class=\"ie ie8\"> <![endif]--><!--[if IE 9]><html class=\"ie ie9\"> <![endif]--><!--[if gt IE 9]><!--><html xmlns=\"http://www.w3.org/1999/xhtml\"      xmlns:og=\"http://ogp.me/ns#\"      xmlns:fb=\"https://www.facebook.com/2008/fbml\">  <!--<![endif]--><head>    <!-- Basic -->    <meta charset=\"utf-8\">    <title>Free Online Website Screenshot Tool - Snapito by ShrinkTheWeb</title>    <meta name=\"keywords\" textContent=\"Snapito website web page snapshot grab capture snapshots fullpage API paid free PROCESS_URL webshot thumbnail screenshot tool\"/>    <meta name=\"description\" textContent=\"Screenshot any web page & embed, download, convert to PDF, or share.\">    <meta name=\"author\" textContent=\"Snapito.com\">    <!-- Mobile Metas -->    <meta name=\"viewport\" textContent=\"width=device-width, initial-scale=1.0\">\t<!-- OpenGraph Elements -->    <meta property=\"fb:app_id\" textContent=\"1094212373976835\"/>    <meta property=\"og:title\" textContent=\"Take a screenshot of a full web page - Snapito\"/>    <meta property=\"og:type\" textContent=\"website\"/>    <meta property=\"og:processUrl\" textContent=\"https://snapito.com\"/>    <meta property=\"og:image\" textContent=\"https://snapito.com/img/snapito.com_800xFULL-1024w_06122016.jpg\"/>    <meta property=\"og:image:type\" textContent=\"image/jpeg\" />    <meta property=\"og:image:width\" textContent=\"800\" />\t<meta property=\"og:image:height\" textContent=\"599\" />    <meta property=\"og:site_name\" textContent=\"Snapito\"/>    <meta property=\"og:description\" textContent=\"Snapito lets you easily capture & share screenshots of web pages, in full-length & custom sizes, in various screen resolutions.\"/>    <!-- Favicons -->    <link rel=\"shortcut icon\" href=\"/favicon.ico\">    <link rel=\"apple-touch-icon\" href=\"/img/Icon.png\">    <link rel=\"apple-touch-icon\" sizes=\"72x72\" href=\"/img/Icon-72.png\">    <link rel=\"apple-touch-icon\" sizes=\"114x114\" href=\"/img/Icon.png\">    <link rel=\"apple-touch-icon\" sizes=\"144x144\" href=\"/img/Icon@2x.png\">    \t<script async src=\"//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js\"></script>\t<script>\t\t (adsbygoogle = window.adsbygoogle || []).push({\t\t\t  google_ad_client: \"ca-pub-3607606750542906\",\t\t\t  enable_page_level_ads: true\t\t });\t</script>\t    <!--[if IE]>    <link rel=\"stylesheet\" href=\"/css/ie.css\">    <![endif]-->    <!-- Theme CSS -->    <style>        @font-face {            font-family: \"Shadows Into Light\";            src: processUrl(\"/font/ShadowsIntoLight.ttf\");        }\t\t        body {            /*background: #2C2C2C;*/            background: processUrl(\"/img/snapito/cream_dust.png\") repeat scroll 0 0 #f4f6f7;        }\t\t\t\tinput[type=\"text\"] {\t\t\theight:auto !important; /* override bootstrap */\t\t}\t\t        h2 {            color: white;        }        .main {            overflow: hidden;            position: fixed;            top: 0;            left: 0;            right: 0px;            bottom: 0px;        }        .card {            text-align: center;            margin: 5px;        }        .card img {            border: 1px solid #f8f8f8;            width: 100%;            height: 100%;        }        .heading {            padding-top: 48px;            line-height: 64px;            color: white;            font-size: 48px;        }        div.card-container {            float: left;            margin-right: 8px;            margin-bottom: 8px;        }\t\t\t\t.example-processUrl {\t\t\tfont-style: normal;\t\t\tfont-variant: normal;\t\t\ttext-transform: none;\t\t\tfont-family: Helvetica, \"Helvetica Neue Light\", sans-serif;\t\t}\t\t\t\t.icon-featured {\t\t\tbackground-color: #4eb25c;\t\t}\t\t\t\t.thumb-info-inner {\t\t\ttext-transform: none;\t\t}\t\t\t\t.processUrl-error {\t\t\tfont-size: .8em;\t\t\tcolor: #684B19;\t\t\tmargin-bottom: 0;\t\t}\t\t\t\tul.plans-submenu {\t\t\tmargin: 0 !important;\t\t}\t\t\t\tul.plans-submenu li{\t\t\tborder: 0;\t\t\tpadding: 3px;\t\t\tline-height: 125%;\t\t\t/*text-align: left;*/\t\t\t/*list-style: disc inside;*/\t\t\t/*line-height: 1em;*/\t\t}\t\t\t\tul.plans-small-text li{\t\t\tfont-size: 92%;\t\t}\t\t\t\t.beta-ribbon {\t\t\tz-index: 100000;\t\t\tbackground-color: #4EB25C;\t\t\toverflow: hidden;\t\t\twhite-space: nowrap;\t\t\tposition: fixed;\t\t\tleft: -50px;\t\t\ttop: 15px;\t\t\tbox-shadow: 0px 0px 1px #3d7b3d;\t\t\t-webkit-transform: rotate(-45deg);\t\t\t-moz-transform: rotate(-45deg);\t\t\t-ms-transform: rotate(-45deg);\t\t\t-o-transform: rotate(-45deg);\t\t\ttransform: rotate(-45deg);\t\t\tborder: 5px double white;\t\t\tcolor: #fff;\t\t\topacity:0.95;\t\t\tdisplay: block;\t\t\tfont: bold 100% \"Open Sans\", Helvetica, Arial, sans-serif;\t\t\tmargin: 1px 0;\t\t\tpadding: 5px 63px;\t\t\ttext-align: center;\t\t\ttext-decoration: none;\t\t}\t\t\t\t.btn-snapito {\t\t\tpadding: 10px 15px;\t\t\tfont-size: 16px !important;\t\t\tline-height: normal;\t\t\theight: 40px;\t\t\t-webkit-border-radius: 8px;\t\t\tborder-radius: 8px;\t\t}\t\t\t\t.back {\t/* Fix for 1px \"off\" on backcontent for some reason */\t\t\tmargin-left:1px;\t\t}\t\t\t\t.suggestedSitesList{\t\t\twidth:910px;\t\t\tmargin-top:40px;\t\t}\t\t\t\t.suggestedSitesList-item{\t\t\tdisplay:inline-block;\t\t\tvertical-align:top;\t\t\tmargin-bottom:7px;\t\t}\t\t\t\t.suggestedSitesList-textContent{\t\t\tbackground-color:#FFFFFF;\t\t\tdisplay:inline-block;\t\t\tcursor:pointer;\t\t\tvertical-align:middle;\t\t\theight:200px;\t\t\tmargin-top:3%;\t\t\tpadding:10px;\t\t\tlist-style:none;\t\t\tborder:solid 1px #D8D8D8;\t\t\tbox-sizing:border-box;\t\t\ttransition:-webkit-transform 1000ms ease;\t\t\ttransition:transform 1000ms ease;\t\t}\t\t\t\t.suggestedSitesList-textContent:hover{\t\t\t-webkit-transform:translateY(-4px);\t\t\ttransform:translateY(-4px);\t\t\tbox-shadow:2px 2px 8px 0 gray;\t\t\ttransition:-webkit-transform 400ms ease;\t\t\ttransition:transform 400ms ease;\t\t}\t\t\t\t.suggestedSitesList-link{\t\t\tdisplay:block;\t\t\tposition:relative;\t\t\twidth:100%;\t\t\tmargin-top:5%;\t\t}\t\t\t\t.suggestedSitesList img{\t\t\tborder:solid 1px #D8D8D8;\t\t\twidth:100%;\t\t\tmax-width:200px;\t\t\tmax-height:150px;\t\t}\t\t\t\t#user-options-container {\t\t\tmargin:0 auto;\t\t\twidth:575px;\t\t}\t\t\t\t#img-options-container {\t\t\tmargin:0 auto;\t\t\twidth:600px; /* 730px w/ edit button */\t\t}\t\t#img-options-text {\t\t\tdisplay:none;\t\t}\t\t\t\t#copy-processUrl-surround {\t\t\tfloat:left;\t\t\tmargin:0 auto 10px 10px; \t\t}\t\t\t\t#clipboard_text {\t\t\tcursor:text; \t\t\twidth:260px;\t\t\t}\t\t\t\t#clipboard_text_short {\t\t\tcursor:text; \t\t\twidth:150px;\t\t}\t\t\t\t#snap-download {\t\t\tfloat:left;\t\t\tmargin:0 auto 10px 10px; \t\t}\t\t#snap-download a {\t\t\tcolor:#FFFFFF;\t\t\ttext-decoration:none; \t\t}\t\t\t\t#snap-result-edit {\t\t\tfloat:left;\t\t}\t\t\t\t\t\t/* Make the image PROCESS_URL look cool - took 12 hours to get the two different background colors to autofill height, since they are not in the same div that expands */\t\t.linkbox{width:85%;margin:0 auto 25px;border-top-left-radius:12px;border-top-right-radius:12px}\t\t.linkbox .linkbartitle{background-color:#eaeaea;color:#888888;line-height:15px;font-family:Arial, Helvetica, sans-serif;font-size:14px;padding:7px;border-top-left-radius:12px;border-top-right-radius:12px}\t\t.linkbox .linkbartitle{font-weight:600}\t\t.linkbox .code-editor{background-color:#363636;}\t\t.linkbox .code-editor .linenumbers,\t\t.linkbox .code-editor .code,\t\t.linkbox .code-editor pre,\t\t.linkbox .code-editor code{font-family:'Lucida Console', 'Lucida Sans Typewriter', monaco, 'Bitstream Vera Sans Mono', monospace;font-size:12px;font-style:normal;font-variant:normal;font-weight:400;text-shadow:none !important}\t\t.linkbox .code-editor .linenumbers{width:100%;color:#929292;background-color:#363636;text-align:center;padding:10px 0;}\t\t.linkbox .code-editor .code{float:left;width:100%;text-align:center !important;margin:0px;}\t\t/* margin:0; on pre b/c bootstrap.css sets 10px bottom margin, which messes up my linkbox! */\t\t.linkbox .code-editor .code pre{border-radius:0;color:white;border:none;background-color:#434343;padding:10px 0;margin:0px;}\t\t#processUrl-inline {float:left;width:93%;padding:10px 0;word-wrap:break-word;text-align:left !important;background-color:#434343;color:#b3dbb4;font-family:'Lucida Console', 'Lucida Sans Typewriter', monaco, 'Bitstream Vera Sans Mono', monospace;font-size:12px;font-style:normal;font-variant:normal;font-weight:400;text-shadow:none !important}\t\t#hold{float:left;width:100%;margin:0px auto;}\t\t.innerHold{float:left;margin-left:0px;margin-right:0px;padding-left:0px;padding-right:0px;}\t\t.linkbox .linkboxfooter{background-color:#dddddd;width:100%;height:5px;}\t\t/* Social Icons */\t\t#socialsharing {\t\t\twidth:535px;\t\t\tmargin:0 auto 20px;\t\t}\t\t\t\tul.social-icons {\t\t\tline-height: 0px;\t\t\tpadding: 0;\t\t\tmargin: 0;\t\t}\t\t\t\tul.social-icons li {\t\t\t-webkit-transition: all 0.3s ease;\t\t\t-moz-transition: all 0.3s ease;\t\t\ttransition: all 0.3s ease;\t\t\tbackground-image: processUrl(\"/img/social-sprites.png\");\t\t\tbackground-repeat: no-repeat;\t\t\tbackground-color: #FFF;\t\t\tbackground-position: 0 100px;\t\t\tdisplay: inline-block;\t\t\tmargin: -1px 1px 5px 0;\t\t\tpadding: 0;\t\t\tborder-radius: 100%;\t\t\toverflow: visible;\t\t\tbox-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.3);\t\t}\t\t\t\tul.social-icons li a {\t\t\tdisplay: block;\t\t\theight: 30px;\t\t\twidth: 30px;\t\t\ttext-align: center;\t\t}\t\t\t\tul.social-icons li a:hover {\t\t\ttext-decoration: none;\t\t}\t\t\t\tul.social-icons li a i[class^=\"icon-\"] {\t\t\tcolor: #444;\t\t\tfont-size: 16px;\t\t\tposition: relative;\t\t\ttop: 3px;\t\t}\t\t\t\tul.social-icons li a:active {\t\t\tbox-shadow: inset 0 0 10px rgba(0, 0, 0, 0.3), inset 0 0 10px rgba(0, 0, 0, 0.3);\t\t}\t\t\t\tul.social-icons li[class] a {\t\t\ttext-indent: -9999px;\t\t}\t\t\t\tul.social-icons li:active, ul.social-icons li a:active {\t\t\tborder-radius: 100%;\t\t}\t\t\t\tul.social-icons li.facebook {\t\t\tbackground-position: 0 -120px;\t\t}\t\t\t\tul.social-icons li.facebook:hover {\t\t\tbackground-position: 0 -150px;\t\t}\t\t\t\tul.social-icons li.pinterest {\t\t\tbackground-position: 0 -780px;\t\t}\t\t\t\tul.social-icons li.pinterest:hover {\t\t\tbackground-position: 0 -810px;\t\t}\t\t\t\tul.social-icons li.twitter {\t\t\tbackground-position: 0 -1140px;\t\t}\t\t\t\tul.social-icons li.twitter:hover {\t\t\tbackground-position: 0 -1170px;\t\t}\t\t\t\t.payBills {\t\t\tmargin:0 auto 15px auto;\t\t\tmax-width:1280px;\t\t\twidth:970px;\t\t\theight:90px;\t\t}\t\t\t\t.payBillsSm {\t\t\tdisplay:block;\t\t\tmargin:0 auto;\t\t\tmax-width:380px;\t\t\twidth:320px;\t\t\theight:60px;\t\t}\t\t\t\t.payBillsSmHide {\t\t\tdisplay:none;\t\t\tmargin:0;\t\t\twidth:0;\t\t\theight:0;\t\t}\t\t\t\t#stw, #adult {\t\t\twidth:724px;\t\t\tmargin:10px auto;\t\t\theight:auto;\t\t}\t\t\t\t/* Must putPage last to avoid specificity concerns */\t\t@media only screen and (max-width: 800px) {\t\t\t#suggestedSites div,\t\t\t.suggestedSitesList,\t\t\t#img-options-container { \t\t\t\tdisplay:none;\t\t\t}\t\t\t#user-options-container {\t\t\t\tmargin:0 auto;\t\t\t\twidth:300px;\t\t\t}\t\t\t#img-options-text {\t\t\t\tdisplay:block;\t\t\t}\t\t\t#clipboard_text {\t\t\t\twidth:200px;\t\t\t}\t\t\t#socialsharing {\t\t\t\twidth:240px;\t\t\t\tdisplay:block;\t\t\t}\t\t\t.payBills {\t\t\t\tmax-width:780px;\t\t\t\twidth:728px;\t\t\t\theight:90px;\t\t\t}\t\t\t#stw, #adult {\t\t\t\twidth: 95%; \t\t\t\tmax-width:724px;\t\t\t\theight:auto;\t\t\t\tmargin:10px auto;\t\t\t}\t\t}\t\t@media only screen and (max-width: 640px) {\t\t\t.payBills {\t\t\t\tmax-width:550px;\t\t\t\twidth:468px;\t\t\t\theight:60px;\t\t\t}\t\t\t#stw, #adult {\t\t\t\tmax-width:600px;\t\t\t}\t\t}\t\t@media only screen and (max-width: 320px) {\t\t\t.payBills {\t\t\t\tmax-width:320px;\t\t\t\twidth:320px;\t\t\t\theight:60px;\t\t\t}\t\t\t#stw, #adult {\t\t\t\tmax-width:300px;\t\t\t}\t\t}\t\t\t\t\t.clear:after {\t\t\tclear: both;\t\t\ttextContent: \"\";\t\t\tdisplay: table;\t\t}    </style>        <!-- Libs CSS -->    <link rel=\"stylesheet\" href=\"/css/bootstrap.css\">    <link rel=\"stylesheet\" href=\"/css/fonts/font-awesome/css/font-awesome.css\">    <link rel=\"stylesheet\" href=\"/css/flipCard.css\">    <link rel=\"stylesheet\" href=\"/css/skins/green.css\">\t<!-- FlipCard Stuff -->    <script src=\"/vendor_stuff/jquery.js\"></script>    <script src=\"/vendor_stuff/jquery.cookie.js\"></script>    <script src=\"/vendor_stuff/URI.js\"></script>    <script src=\"/vendor_stuff/flipCard.js\"></script>        <!--Start of Zopim Live Chat Script-->    <script type=\"text/javascript\">    var ua = navigator.userAgent.toLowerCase()    platform = navigator.platform.toLowerCase();    platformName = ua.match(/ip(?:ad|od|hone)/) ? 'ios' : (ua.match(/(?:webos|android)/) || platform.match(/mac|win|linux/) || ['other'])[0],    isMobile = /ios|android|webos/.test(platformName);\t<!-- Detect mobile users so we don't annoy them with this widget -->    if (!isMobile) {\t\twindow.$zopim||(function(d,s){var z=$zopim=function(c){z._.push(c)},$=z.s=\t\td.createElement(s),e=d.getElementsByTagName(s)[0];z.set=function(o){z.set.\t\t_.push(o)};z._=[];z.set._=[];$.async=!0;$.setAttribute(\"charset\",\"utf-8\");\t\t$.src=\"//v2.zopim.com/?1dklEa83i3Dspz1TAcSQVulUOViWaHix\";z.t=+new Date;$.\t\ttype=\"text/javascript\";e.parentNode.insertBefore($,e)})(document,\"script\");\t\t\t<!-- Start the chat widget minimized -->\t\t$zopim(function() {$zopim.livechat.window.hide(); $zopim.livechat.bubble.hide();});\t}    </script>    <!--End of Zopim Live Chat Script--></head><body><div style=\"float:right; margin:10px 35px 0 0;\"><a href=\"https://snapito.com\" style=\"font-weight:bold;\" rel=\"nofollow\">Home</a> &middot; <a href=\"https://snapito.io/webshot-doc/\" style=\"font-weight:bold;\">API</a></div><div class=\"body first-body\" style=\"overflow:hidden;display:none;\">    <div style=\"clear:both;\"></div>    <div id=\"animation-container\" class=\"main\" style=\"opacity:0.85;\"></div></div><div id=\"snap-box\" style=\"clear:both; display:none; width:420px; height:420px; position:absolute; z-index:10; background:rgba(254,255,254,0.985) processUrl('/img/snapito/speckled-texture.png'); box-shadow:3px 3px 20px 3px rgba(0,0,0,0.2); border-radius:10000px;border:0px solid #c7ebc7;\">    <div>        <form id=\"snap-form\" class=\"form-inline\" action=\"#\">            <!--<h1 style=\"color:white\">Snapito!</h1>-->            <div id=\"snap-box-inner\" style=\"width:320px; height:340px; position:absolute; top:40px; left:50px; border:0px solid red\">                <div class=\"container\" style=\"width:100%;\">                    <div class=\"row-fluid\" style=\"text-align: center;\">                        <div class=\"span\" style=\"width:100%; margin-left:0px;border:0px blue solid\">                            <img src=\"/img/snapito/snappy-only-80.png\"/>                        </div>                    </div>                    <div class=\"row-fluid\" style=\"text-align: center;\">                        <div class=\"span\" style=\"width:100%; margin-left:0px;;margin-top:-10px;border:0px blue solid\">                            <img src=\"/img/snapito/logo-text-260.png\"/>                        </div>                    </div>                    <div class=\"row-fluid\">                        <div style=\"width:100%;height:1em\"></div>                    </div>                    <div id=\"clear-text\" class=\"row-fluid\" style=\"text-align: center\">                        <div id=\"snap-input-area\" class=\"\"                             style=\"border:0px green solid;margin-left: 0em;margin-right: 0em\">                            <div>                                <input type=\"text\"                                       style=\"width: 95%; margin-right:0em;padding-right: 25px\"                                       name=\"processUrl\" id=\"snap-processUrl\" value=\"http://\">                                <div class=\"btn-group\" style=\"display: none;\">                                    <button id=\"snap-button\" class=\"btn btn-success btn-snapito\">Snap</button>                                    <button class=\"btn btn-success dropdown-toggle btn-snapito\" data-toggle=\"dropdown\"><span class=\"caret\"></span></button>                                    <ul id=\"dropdown\" class=\"dropdown-menu text-left\">\t\t\t\t\t\t\t\t\t\t<li><a id=\"snap-pin\" href=\"javascript:void(0)\"><img                                         \tsrc=\"https://passets-cdn.pinterest.com/images/small-p-button.png\"                                         \twidth=\"16\"                                             height=\"16\"/>&nbsp;Pin to Pinterest</a>                                        </li>                                        <li><a id=\"snap-pdf\" href=\"javascript:void(0)\">Convert PROCESS_URL to PDF</a></li>                                        <li><a id=\"snap-adv\" href=\"javascript:void(0)\">Generate Short Link</a></li>                                    </ul>                                    <div class=\"btn-group\">                                        <button id=\"snap-extras\" type=\"button\" style=\"margin-left:0.2em\" class=\"btn btn-snapito\"                                                data-toggle=\"button\">                                        <i class=\"icon-cog large\"></i>                                        </button>                                        <button id=\"camera-sound-toggle\" type=\"button\"                                                style=\"margin-left:0em; width: 2.9em\" class=\"btn btn-snapito active\"                                                data-toggle=\"button\">                                        <i class=\"icon-volume-up large\"></i>                                        </button>                                    </div>                                </div>                            </div>                        </div>                        <div id=\"snap-error\" class=\"row-fluid\" style=\"display: none\">                            <div style=\"width:100%;height:2.5em\"></div>                            <div class=\"alert alert-block\"                                 style=\"padding:1em; margin:1em auto; margin-top: 0;width:40%\">                                <!--<button type=\"button\" class=\"close\" data-dismiss=\"alert\">&times;</button>-->                                <div id=\"snap-error-container\"></div>                            </div>                        </div>                    </div>\t\t\t\t\t<div style=\"width:100%;height:1em\"></div>                    <div class=\"row-fluid first-body\">\t\t\t\t\t\t<script async src=\"//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js\"></script>                        <!-- Snapito Small -->                        <ins class=\"adsbygoogle payBillsSm\"                             data-ad-client=\"ca-pub-3607606750542906\"                             data-ad-slot=\"5727436464\"></ins>                        <script>                        (adsbygoogle = window.adsbygoogle || []).push({});                        </script>                    </div>                    <div class=\"row-fluid second-body\">\t\t\t\t\t\t<script async src=\"//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js\"></script>                        <!-- Snaptio Wide -->                        <ins class=\"adsbygoogle payBills\"                             style=\"display:block;\"                             data-ad-client=\"ca-pub-3607606750542906\"                             data-ad-slot=\"4821030866\"></ins>                        <script>                        (adsbygoogle = window.adsbygoogle || []).push({});                        </script>                    </div>                    <div style=\"width:100%;height:1em\"></div>                    <div class=\"row-fluid\" style=\"text-align: center;width:100%\">                        <div class=\"span\" style=\"width:100%; border: 0px solid purple\">                            <p style=\"color:#222; font-size:190%; line-height: 100% \">                                Simple, <em style=\"color:#417D47\">quick</em> and quality website snapshots                            </p>                            <div id=\"learn-more\" style=\"display: none\">                                <br/>                                <a href=\"https://snapito.io\" style=\"position: relative; font-size: 125%;border: 0px solid purple;color:#8a998b;\"><em>Need an API?</em></a>                            </div>                        </div>                    </div>                    <div id=\"snap-extra\" style=\"display:none;opacity:0;width:100%;border: 0px solid blue\">                        <div class=\"row-fluid\" id=\"snap-options\">                            <div id=advanced-options style=\"display: none\">                                <div class=\"span\" style=\"width:100%;text-align:center; margin-bottom: 0.5em\">                                    <div class=\"control-group\">                                        <label class=\"control-label\">                                            <select id=\"screen\">                                                <option value=\"1024x768\" selected>1024px wide (Desktop)</option>                                                <option value=\"1280x1024\">1280px wide (Desktop)</option>                                                <option value=\"1366x768\">1366px wide (14\" Notebook)</option>                                                <option value=\"1920x1080\">1920px wide (1080p TV)</option>                                                <option value=\"1280x800\">1280px wide (Widescreen)</option>                                                <option value=\"768x1024\">768x1024 (iPad)</option>                                                <option value=\"640x1136\">640x1136 (iPhone 5)</option>                                                <option value=\"640x960\">640x960 (iPhone 4S)</option>                                                <option value=\"600x1024\">600x1024 (Kindle Fire)</option>                                                <option value=\"800x1280\">800x1280 (Kindle Fire HD)</option>                                                <option value=\"1200x1920\">1200x1920 (Kindle 8.9\")</option>                                            </select>                                        </label>                                        <label class=\"control-label\">                                            <select id=\"size\">                                                <option value=\"800x0\" selected>800xFull-Length (Medium)</option>                                                <option value=\"mc\">800x600 (Medium Cropped)</option>                                                <option value=\"564x0\">564xFull-Length (Pinterest)</option>                                                <option value=\"sc\">320x240 (Small Cropped)</option>                                                <option value=\"320x0\">320xFull-Length (Small)</option>                                            </select>                                        </label>                                        <label class=\"control-label\">                                            <select id=\"delay\">                                                <option value=\"-1\" selected>No Delay</option>                                                <option value=\"2\">2 Second Delay</option>                                                <option value=\"5\">5 Second Delay</option>                                                <option value=\"10\">10 Second Delay</option>                                                <option value=\"25\">25 Second Delay</option>                                            </select>                                        </label>                                        <label class=\"control-label\">                                            <select id=\"cache\">                                                <option value=\"2592000\">Up to 30 days</option>                                                <option value=\"86400\">Up to a day</option>                                                <option value=\"-1\">Get the Latest Screenshot</option>                                            </select>                                        </label>                                    </div>                                </div>                            </div>                        </div>                    <p id=\"wait-message\" style=\"display:none; margin:20px auto 0 auto; min-height: 65px; line-height: 1em;color:#417D47; font-family:'Shadows Into Light', serif; font-size: 190%; text-align: center; width: 70%; opacity: 0.8\"><em>Give us a moment to take your snapshot...</em></p>                    <div align=\"center\" style=\"margin-bottom:50px;\">                        <div id=\"suggestedSites\" style=\"display:none;\">                        <ul class=\"suggestedSitesList\">                            <li id=\"suggestedSites1\" class=\"suggestedSitesList-item\">                                <div class=\"suggestedSitesList-textContent\"></div>                            </li>                            <li id=\"suggestedSites2\" class=\"suggestedSitesList-item\">                                <div class=\"suggestedSitesList-textContent\"></div>                            </li>                            <li id=\"suggestedSites3\" class=\"suggestedSitesList-item\">                                <div class=\"suggestedSitesList-textContent\"></div>                            </li>                            <li id=\"suggestedSites4\" class=\"suggestedSitesList-item\">                                <div class=\"suggestedSitesList-textContent\"></div>                            </li>                            <li id=\"suggestedSites5\" class=\"suggestedSitesList-item\">                                <div class=\"suggestedSitesList-textContent\"></div>                            </li>                            <li id=\"suggestedSites6\" class=\"suggestedSitesList-item\">                                <div class=\"suggestedSitesList-textContent\"></div>                            </li>                            <li id=\"suggestedSites7\" class=\"suggestedSitesList-item\">                                <div class=\"suggestedSitesList-textContent\"></div>                            </li>                            <li id=\"suggestedSites8\" class=\"suggestedSitesList-item\">                                <div class=\"suggestedSitesList-textContent\"></div>                            </li>                        </ul>                        </div>                        <p style=\"color:#222; font-size:190%; line-height: 100%;\" style=\"display: none;\">                            <div id=\"snap-result\" class=\"row-fluid\">                                <div class=\"\" style=\"text-align: center; width:100%\">                                    <div id=\"snap-result-surround\" style=\"display: none; margin-top: 10px\">                                        <div id=\"\" style=\"margin: 1em 1em 2.5em 1em;\">                                            <div id=\"user-options-container\" class=\"clear\">                                                <div id=\"short-processUrl-surround\" style=\"margin:0 auto 25px 0;\">                                                <input readonly type=\"text\" title=\"Easily share this short PROCESS_URL for this specific page on Snapito\" id=\"clipboard_text_short\"/>                                                <button type=\"button\" id=\"processUrl-clip-button\" class=\"btn btn-success\" data-clipboard-target=\"#clipboard_text_short\">Copy PROCESS_URL for this Page</button>                                                </div>                                            </div>                                            <div class=\"linkbox clear\">                                                <div class=\"linkbartitle\">Screenshot image PROCESS_URL (Embed or Share)</div>                                                <div id=\"hold\" class=\"code-editor clear\">                                                    <div class=\"innerHold\" style=\"width:7%;min-width:25px;\"><div class=\"linenumbers\">img</div></div>                                                    <div class=\"innerHold\" style=\"background-color:#434343;width:93%;\">                                                        <div class=\"code\" style=\"width:6%;min-width:45px;\"><pre><code>link: </code></pre></div>                                                        <div id=\"processUrl-inline\"></div>                                                        <div class=\"innerHold\" style=\"width:1%;\"></div>                                                    </div>                                                </div>                                                <div style=\"clear:both;\"></div>                                                <div class=\"linkboxfooter\"></div>                                            </div>                                            <div style=\"clear:both;\"></div>                                            <p style=\"margin:0 auto 8px auto;\">Click the \"Down Arrow\" and \"Gear Icon\" for advanced options</p>                                            <p style=\"margin:0 auto; font-size:1.2em;\">Need fully automated <a href=\"https://shrinktheweb.com\" title=\"Website Screenshots by ShrinkTheWeb\">Website Screenshots</a>? Check out <a href=\"https://shrinktheweb.com\">ShrinkTheWeb</a></p>                                            <div style=\"min-width:200px;background-color: white;box-shadow:4px 4px 20px 5px rgba(0,0,0,0.3);padding:1em;margin:4em;margin-top: 1em;\">                                                <div id=\"img-options-text\">For advanced features (editing, download, embed, etc), please use a larger screen.</div>                                                <div id=\"img-options-container\" class=\"clear\">                                                    <div id=\"snap-result-edit\"></div> <div id=\"snap-download\" class=\"btn btn-success\"></div>                                                     <div id=\"copy-processUrl-surround\">                                                    <input readonly type=\"text\" title=\"Embed this PROCESS_URL in a web page to show this screenshot\" id=\"clipboard_text\"/>                                                    <button type=\"button\" id=\"processUrl-clip-button\" class=\"btn btn-success\" data-clipboard-target=\"#clipboard_text\">Copy</button>                                                    </div>                                                </div>                                                <img id=\"snap-result-image\" style=\"margin-top:10px;box-shadow:4px 4px 20px 5px rgba(0,0,0,0.3)\" src=\"\" />                                            </div>                                        </div>                                    </div>                                </div>                            </div>                            <div style=\"clear:both;\">                                                        <p>Snapito has been under theft of service attack, and we are forced to suspend service until we have time to investigate.                            <br /><a href=\"https://shrinktheweb.com\">All web page screenshots provided by ShrinkTheWeb.</a></p><!--                            <p>Snapito is a demo site for ShrinkTheWeb and is provided as a completely free service for all to use.                            <br /><a href=\"https://shrinktheweb.com\">All web page screenshots provided by ShrinkTheWeb.</a></p>                            <div id=\"stw\"><a href=\"https://shrinktheweb.com\"><img src=\"https://snapito.com/img/shrinktheweb-724x90b.jpg\" alt=\"Website Screenshots\" title=\"Automated Website Screenshot Provider\" border=\"0\" width=\"724\" height=\"90\" /></a></div> -->                    <div class=\"row-fluid second-body\">\t\t\t\t\t\t<script async src=\"//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js\"></script>                        <!-- Snaptio Wide -->                        <ins class=\"adsbygoogle payBills\"                             style=\"display:block;\"                             data-ad-client=\"ca-pub-3607606750542906\"                             data-ad-slot=\"4821030866\"></ins>                        <script>                        (adsbygoogle = window.adsbygoogle || []).push({});                        </script>                    </div>                            </div>                        </div>\t\t\t\t\t</div>                </div>            </div>        </form>    </div></div><audio id=\"camera-sound\" preload=\"auto\">    <source src=\"/audio/camera-shutter-click.ogg\" type=\"audio/ogg\">    <source src=\"/audio/camera-shutter-click.mp3\" type=\"audio/mpeg\"></audio><!-- Libs (Location important to load after initial page) --><script src=\"/vendor_stuff/bootstrap.js\"></script><script src=\"/vendor_stuff/jquery.validate.min.js\"></script><script src=\"/vendor_stuff/jquery.input-clear.js\"></script><script src=\"/vendor_stuff/spin.js\"></script><!-- Let's use a better, non-Flash (yuck!) way to copy-to-clipboard --><script type=\"text/javascript\" src=\"/vendor_stuff/clipboard.min.js\"></script><!-- Custom JS (Location important to load after initial page) --><!--<snap> --><script src=\"/js/custom.js?ver=1565949620\"></script><!--</snap> --><!-- Google+ Share Script (used for mobile) --><script src=\"https://apis.google.com/js/platform.js\" async defer></script><!-- End Google+ Share Script --></body></html>";
        System.out.println(GrabAllLinksHelper.extractHtmlHrefs(html));
    }

    @Test
    public void generateUrlKey() {
        String[][] data = new String[][]{
                {"https://www.instagram.com/friends/1", "instagram.com/friends/1"},
                {"https://www.instagram.com/friends/1/", "instagram.com/friends/1"},
                {"http://www.instagram.com/friends/1", "instagram.com/friends/1"},
                {"www.instagram.com/friends/1", "instagram.com/friends/1"},
                {"https://instagram.com/friends/1", "instagram.com/friends/1"},
                {"https://www.instagram.com/friends/1?message=1", "instagram.com/friends/1"},
                {"https://vk.com/feed", "vk.com/feed"},
                {"https://sitechecker.pro/what-is-url/", "sitechecker.pro/what-is-url"},
                {"https://www.instagram.com/friends/1#message", "instagram.com/friends/1"},
        };
        for (String[] datum : data) {
            String res = GrabAllLinksHelper.generateKey(datum[0]);
            assertEquals(res, datum[1]);
        }
    }

    @Test
    public void getDomain() throws Exception {
        String[][] data = new String[][]{
                {"https://www.instagram.com/friends/1", "instagram.com"},
                {"https://www.instagram.com/friends/1/", "instagram.com"},
                {"http://www.instagram.com/friends/1", "instagram.com"},
                {"www.instagram.com/friends/1", "instagram.com"},
                {"https://instagram.com/friends/1", "instagram.com"},
                {"https://www.instagram.com/friends/1?message=1", "instagram.com"},
                {"https://vk.com/feed", "vk.com"},
                {"https://sitechecker.pro/what-is-url/", "sitechecker.pro"},
                {"https://www.instagram.com/friends/1#message", "instagram.com"},
                //{"", ""},
                //{"fdsfdsfds", ""}
        };
        for (String[] datum : data) {
            String res = GrabAllLinksHelper.getDomain(datum[0]);
            assertEquals(res, datum[1]);
        }
    }

    @Test
    public void createHomePageUrl() throws Exception {
        String[][] data = new String[][]{

                //processUrl validation
                {"https", "www.instagram.com", "80", "https://www.instagram.com/friends/1/", "https://www.instagram.com/friends/1/"},
                {"https", "www.instagram.com", null, "https://www.instagram.com/friends/1/", "https://www.instagram.com/friends/1/"},
                {"https", null, null, "https://www.instagram.com/friends/1/", "https://www.instagram.com/friends/1/"},
                {null, null, null, "https://www.instagram.com/friends/1/", "https://www.instagram.com/friends/1/"},

                {"https", "www.instagram.com", "80", "", "https://www.instagram.com:80"},
                {"https", "www.instagram.com", "80", null, "https://www.instagram.com:80"},

                //port validation
                {"https", "www.instagram.com", "", null, "https://www.instagram.com"},
                {"https", "www.instagram.com", null, null, "https://www.instagram.com"},
                {"https", "www.instagram.com", "", "https://www.instagram.com/friends/1/", "https://www.instagram.com/friends/1/"},
                {"https", "www.instagram.com", null, "https://www.instagram.com/friends/1/", "https://www.instagram.com/friends/1/"},
        };
        for (int i = 0; i < data.length; i++) {
            String res = GrabAllLinksHelper.createHomePageUrl(data[i][0], data[i][1], data[i][2], data[i][3]);
            assertEquals("" + i, res, data[i][4]);
        }
    }

}